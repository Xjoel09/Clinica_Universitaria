<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:system="clr-namespace:System;assembly=netstandard"
             xmlns:local="clr-namespace:MedicalUTP.ViewModel"
             x:Class="MedicalUTP.Pages.Solicitud"
             Title="Solicitud">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">
            <Label Text="Agendar Nueva Cita" 
               FontSize="24" 
               FontAttributes="Bold" 
               HorizontalOptions="Center"/>

            <Frame BorderColor="Gray" Padding="10" CornerRadius="5">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Tipo de Consulta" FontAttributes="Bold"/>
                    <Picker ItemsSource="{Binding TiposConsultas}"
                        SelectedItem="{Binding TipoConsulta}"
                        Title="Seleccione el tipo de consulta"/>
                </VerticalStackLayout>
            </Frame>

            <Frame BorderColor="Gray" Padding="10" CornerRadius="5">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Fecha y Hora" FontAttributes="Bold"/>
                    <DatePicker Date="{Binding FechaSeleccionada}"
                            MinimumDate="{x:Static system:DateTime.Today}"/>
                    <Picker ItemsSource="{Binding HorasDisponibles}"
                        SelectedItem="{Binding HoraSeleccionada}"
                        Title="Seleccione la hora"/>
                </VerticalStackLayout>
            </Frame>

            <Frame BorderColor="Gray" Padding="10" CornerRadius="5">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Medicos Disponbles" FontAttributes="Bold"/>
                    <Picker ItemsSource="{Binding MedicosAsignados}"
                            SelectedItem="{Binding MedicoAsignado}"
                            Title="Seleccione su medico de preferencia"/>
                </VerticalStackLayout>
            </Frame>

            <Frame BorderColor="Gray" Padding="10" CornerRadius="5">
                <VerticalStackLayout Spacing="10">
                    <Label Text="Motivo de la Consulta" FontAttributes="Bold"/>
                    <Editor Text="{Binding MotivoConsulta}"
                        Placeholder="Describa brevemente el motivo de su consulta"
                        AutoSize="TextChanges"
                        MaxLength="500"/>
                </VerticalStackLayout>
            </Frame>

            <Button Text="Agendar Cita"
                Command="{Binding AgendarCitaCommand}"
                BackgroundColor="#007AFF"
                TextColor="White"
                CornerRadius="5"
                HeightRequest="50"
                Margin="0,20,0,0"/>
        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>
